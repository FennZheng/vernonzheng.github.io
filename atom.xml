<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[vernonzheng blog]]></title>
  <subtitle><![CDATA[to be better]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://vernonzheng.com/"/>
  <updated>2014-12-07T14:43:51.879Z</updated>
  <id>http://vernonzheng.com/</id>
  
  <author>
    <name><![CDATA[Vernon Zheng]]></name>
    <email><![CDATA[kevonzheng@gmail.com]]></email>
  </author>
  
  <generator uri="http://zespia.tw/hexo/">Hexo</generator>
  
  <entry>
    <title><![CDATA[linux环境变量解疑]]></title>
    <link href="http://vernonzheng.com/2014/12/07/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%A7%A3%E7%96%91/"/>
    <id>http://vernonzheng.com/2014/12/07/linux环境变量解疑/</id>
    <published>2014-12-07T09:02:59.000Z</published>
    <updated>2014-12-07T14:10:39.000Z</updated>
    <content type="html"><![CDATA[<h1 id="什么是环境变量">什么是环境变量</h1>
<pre><code>bash <span class="keyword">shell</span>用一个称为环境变量的特性来存储有关<span class="keyword">shell</span>会话和工作环境的信息。
</code></pre><p>环境变量有两类：全局变量和局部变量。<br>局部变量可以在这个shell进程和子进程中起作用，另创建一个shell，就无效了。</p>
<h2 id="显示环境变量">显示环境变量</h2>
<p>显示全局变量：printenv<br>显示局部变量：set</p>
<h2 id="设置环境变量">设置环境变量</h2>
<p>设置局部变量：通过等号来给环境变量赋值，如</p>
<blockquote>
<p>$test=testing<br>$echo $test<br>testing<br>$</p>
</blockquote>
<p>设置全局变量：通过将局部变量导出为全局变量的方式，如</p>
<blockquote>
<p>$echo $test<br>testing a long string<br>$export test<br>$bash<br>$echo $test<br>testing a long string<br>$</p>
</blockquote>
<h2 id="删除环境变量">删除环境变量</h2>
<p>局部变量：unset test<br>全局变量：unset test 需要注意的是：如果你是在子进程中删除一个全局环境变量，它只对子进程失效。全局环境变量在父进程仍然有效。</p>
<h1 id="易混淆的系统环境变量">易混淆的系统环境变量</h1>
<p>linux启动启动一个bash shell时，默认情况下bash在几个文件中查找命令。这些文件称为启动文件，根据bash shell启动方式的不同，查找文件不同。</p>
<p>bash shell有三种方式：</p>
<h2 id="（1）登陆时当做默认登陆shell">（1）登陆时当做默认登陆shell</h2>
<p>会依次查找一下路径：</p>
<blockquote>
<p>/etc/profile<br>$HOME/.bash_profile<br>$HOME/.bash_login<br>$HOME/.profile</p>
</blockquote>
<p>/etc/profile文件是系统上默认的bash shell的主启动文件。每个用户登陆都会执行这个启动文件，另外3个启动文件是用户专有的，可根据用户定制。</p>
<h2 id="（2）作为非登陆shell的交互式shell">（2）作为非登陆shell的交互式shell</h2>
<p>如果你的bash shell不是登陆系统时启动的，称为交互式shell。</p>
<p>交互式shell不会去访问/etc/profile文件，而会去用户的HOME目录检查<strong>.bashrc</strong>是否存在。</p>
<ul>
<li><strong>.bashrc</strong>文件的作用：<br>有两个作用：<br>一是查看/etc目录下的公用bashrc文件<br>二是为用户提供一个定制自己的命令别名和私有脚本函数的地方。<br>（默认的文件会设置一些环境变量，但一般它没有执行export命令让它们称为全局的。）</li>
</ul>
<p>记住，交互式shell的启动文件只会在每次有新的交互式shell启动时才运行，因此任何子shell都会自动执行这个交互式shell的启动文件。</p>
<p>还能看出，/etc/bashrc文件也会执行位于/etc/profile.d 目录下的那些应用专属的启动文件。</p>
<h2 id="（3）作为运行脚本的非交互shell">（3）作为运行脚本的非交互shell</h2>
<p>系统执行shell脚本时用的就是这种shell。</p>
<p>当你每次在系统上运行脚本时需要运行特定的启动命令。为了处理这种情况，bash shell提供了BASH_ENV环境变量。</p>
<p>当shell启动一个非交互式shell进程时，它会检查这个环境变量来查看要执行的启动文件。如果有指定，shell会执行文件里的命令。<br>（在linux发行版里，默认情况下这个环境变量并未设置。）</p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="什么是环境变量">什么是环境变量</h1>
<pre><code>bash <span class="keyword">shell</span>用一个称为环境变量的特性来存储有关<span class="keyword">shell</span>会话和工作环境的信]]>
    </summary>
    
      <category term="linux" scheme="http://vernonzheng.com/tags/linux/"/>
    
      <category term="环境变量" scheme="http://vernonzheng.com/tags/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"/>
    
      <category term="linux" scheme="http://vernonzheng.com/categories/linux/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://vernonzheng.com/2014/12/01/hello-world/"/>
    <id>http://vernonzheng.com/2014/12/01/hello-world/</id>
    <published>2014-12-01T14:28:12.000Z</published>
    <updated>2014-12-01T14:28:12.000Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">trobuleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2>
<h3 id="Create_a_new_post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>

<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>

<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>

<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>

<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io]]>
    </summary>
    
  </entry>
  
</feed>
